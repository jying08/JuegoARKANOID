<title>Aranoid en JavaScript</title>
<style>
  body {
    background-color: #111;
  }
  canvas {
    border: 4px solid #fff;
    border-bottom: transparent;
    background: #000;
    margin: 0 auto;
    display: block;
  }
</style>

<canvas></canvas>
<script>
  const canvas = document.querySelector("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = 448;
  canvas.height = 400;

  //VARIABLES DE LA PELOTA
  const ballRadius = 3;
  //posicion de la pelota
  let x = canvas.width / 2;
  let y = canvas.height - 30;

  //velocidad de la pelota
  let dx = -2;
  let dy = -2;

  function drawBall() {
    ctx.beginPath();
    ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
    ctx.fillStyle = "#fff";
    ctx.fill();
    ctx.closePath();
  }
  function drawPadle() {}
  function drawBricks() {}

  function collisionDetection() {}
  function ballMovement() {
    if (x + dx > canvas.width - ballRadius || //la paredet derecha
        x + dx < ballRadius) // la pared izquierda 
    {
      dx = -dx;
    }

    // rebotar en la parte de arriba
    if(y+dy<ballRadius)
    {
        dy=-dy
    }
    if(y+dy>canvas.height-ballRadius)
    {
        console.log('game over')
        document.location.reload()
    }



    x += dx;
    y += dy;
  }
  function cleanCanvas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  function paddleMovement() {}

  function draw() {
    cleanCanvas();
    // hay que dibujar los elementos
    drawBall();
    drawPadle();
    drawBricks();

    //coliciones y movimientos
    collisionDetection();
    ballMovement();
    paddleMovement();

    console.log("hola");
    window.requestAnimationFrame(draw);
  }
  draw();
</script>
